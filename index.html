<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ª–µ–Ω—Ç–æ—á–Ω–æ–≥–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f5f5f5; margin:0; padding:16px; }
    .card { background:#fff; border-radius:12px; padding:16px; margin-bottom:16px; box-shadow:0 2px 8px rgba(0,0,0,.08); }
    h2 { margin-top:0; font-size:20px; }
    label { display:block; margin:8px 0 4px; }
    input, select { width:100%; padding:8px; font-size:16px; }
    button { width:100%; padding:12px; font-size:18px; background:#2563eb; color:#fff; border:none; border-radius:10px; cursor:pointer; }
    button:hover { background:#1d4ed8; }
    .checkbox { display:flex; align-items:center; gap:8px; }
  </style>
</head>
<body>

<div class="card">
  <h2>üìê –ì–µ–æ–º–µ—Ç—Ä–∏—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</h2>
  <label>–ü–µ—Ä–∏–º–µ—Ç—Ä —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ (–º)</label>
  <input id="perimeter" type="number" />

  <label>–®–∏—Ä–∏–Ω–∞ –ª–µ–Ω—Ç—ã</label>
  <select id="width">
    <option value="0.3">0.3 –º</option>
    <option value="0.4">0.4 –º</option>
  </select>

  <label>–í—ã—Å–æ—Ç–∞ –ª–µ–Ω—Ç—ã (–º)</label>
  <input id="height" type="number" />

  <label>–î–ª–∏–Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–æ–∫ (–º)</label>
  <input id="partitions" type="number" />

  <label>–®–∏—Ä–∏–Ω–∞ –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–æ–∫</label>
  <select id="partWidth">
    <option value="0.3">0.3 –º</option>
    <option value="0.4">0.4 –º</option>
  </select>
</div>

<div class="card">
  <h2>üß± –ë–µ—Ç–æ–Ω</h2>
  <select id="concrete">
    <option value="5500">M200 ‚Äî 5 500 ‚ÇΩ / –º¬≥</option>
    <option value="6000">M250 ‚Äî 6 000 ‚ÇΩ / –º¬≥</option>
    <option value="6500">M300 ‚Äî 6 500 ‚ÇΩ / –º¬≥</option>
  </select>
</div>

<div class="card">
  <h2>üß∞ –û–ø–∞–ª—É–±–∫–∞</h2>
  <div class="checkbox">
    <input id="formwork" type="checkbox" checked />
    <label for="formwork">–í–∑—è—Ç—å –≤ –∞—Ä–µ–Ω–¥—É –æ–ø–∞–ª—É–±–∫—É (1000 ‚ÇΩ / –º¬≥)</label>
  </div>
</div>

<button onclick="calc()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>

<script>
function calc(){
  const p = +perimeter.value || 0;
  const w = +width.value;
  const h = +height.value || 0;
  const part = +partitions.value || 0;
  const pw = +partWidth.value;
  const priceConcrete = +concrete.value;

  const volumeMain = p * w * h;
  const volumePart = part * pw * h;
  const volume = volumeMain + volumePart;

  const concreteCost = volume * priceConcrete;
  const gravelVolume = (p * w + part * pw) * 0.3;
  const gravelCost = gravelVolume * 250;

  const rebarMeters = (p + part) * 8;
  const rebarCost = rebarMeters * 46;

  const formworkCost = formwork.checked ? volume * 1000 : 0;

  const workTrench = (p + part) * 200;
  const workGravel = (p + part) * 350;
  const workConcrete = volume * 2500;
  const workRebar = rebarMeters * 35;
  const workFormworkTransport = formwork.checked ? 4000 : 0;

  const materialsTotal = concreteCost + gravelCost + rebarCost + formworkCost;
  const worksTotal = workTrench + workGravel + workConcrete + workRebar + workFormworkTransport;

  const win = window.open('', '_blank');
  win.document.write(`
    <html><head><title>–†–∞—Å—á—ë—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</title>
    <meta name=viewport content="width=device-width, initial-scale=1.0">
    <style>
      body{font-family:Arial;padding:16px;line-height:1.5}
      h2{margin-top:0}
      .total{font-size:20px;font-weight:bold;margin-top:12px}
      a{display:block;margin-top:16px;font-size:18px;font-weight:bold;text-decoration:none;color:#2563eb}
    </style></head><body>

    <h2>üß± –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</h2>
    –ë–µ—Ç–æ–Ω: ${volume.toFixed(2)} –º¬≥ ‚Äî ${concreteCost.toLocaleString()} ‚ÇΩ<br>
    –ü–æ–¥—Å—ã–ø–∫–∞: ${gravelCost.toLocaleString()} ‚ÇΩ<br>
    –ê—Ä–º–∞—Ç—É—Ä–∞: ${rebarCost.toLocaleString()} ‚ÇΩ<br>
    ${formwork.checked ? '–û–ø–∞–ª—É–±–∫–∞: ' + formworkCost.toLocaleString() + ' ‚ÇΩ<br>' : ''}

    <h2>üöú –†–∞–±–æ—Ç—ã</h2>
    –ö–æ–ø–∫–∞ —Ç—Ä–∞–Ω—à–µ–∏: ${workTrench.toLocaleString()} ‚ÇΩ<br>
    –ü–æ–¥—Å—ã–ø–∫–∞: ${workGravel.toLocaleString()} ‚ÇΩ<br>
    –ó–∞–ª–∏–≤–∫–∞ –±–µ—Ç–æ–Ω–∞: ${workConcrete.toLocaleString()} ‚ÇΩ<br>
    –í—è–∑–∫–∞ –∞—Ä–º–∞—Ç—É—Ä—ã: ${workRebar.toLocaleString()} ‚ÇΩ<br>
    ${formwork.checked ? '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –æ–ø–∞–ª—É–±–∫–∏: ' + workFormworkTransport.toLocaleString() + ' ‚ÇΩ<br>' : ''}

    <div class="total">–ò—Ç–æ–≥–æ: ${(materialsTotal + worksTotal).toLocaleString()} ‚ÇΩ</div>

    <a href="https://max.ru/join/ywAl4IILOviUMdpEWbk_OrjOFCN4c6q1GANv-omzGrw" target="_blank">üëâ –í–∑—è—Ç—å –≤ –∞—Ä–µ–Ω–¥—É –æ–ø–∞–ª—É–±–∫—É</a>

    </body></html>
  `);
}
</script>

</body>
</html>
