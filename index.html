<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ª–µ–Ω—Ç–æ—á–Ω–æ–≥–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif}
body{background:#f2f2f2;display:flex;justify-content:center;align-items:center;min-height:100vh}
.container{max-width:520px;width:100%;background:#fff;padding:16px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.1)}
h1{text-align:center;font-size:20px;margin-bottom:10px}
label{display:block;margin-top:12px;font-weight:600;font-size:14px}
input,select{width:100%;padding:12px;margin-top:6px;font-size:16px;border-radius:8px;border:1px solid #ccc}
button{margin-top:16px;width:100%;padding:16px;font-size:18px;background:#27ae60;color:#fff;border:none;border-radius:12px;cursor:pointer}
button:active{transform:scale(0.98)}
.result{position:fixed;top:0;left:0;width:100%;height:100%;background:#fff;padding:20px;display:none;overflow-y:auto;z-index:1000;text-align:center}
.result.show{display:block}
.max-btn{display:block;margin-top:20px;padding:16px;background:#4a7cff;color:#fff;text-decoration:none;border-radius:12px;font-size:18px}
.note{font-size:12px;color:#777;margin-top:8px;text-align:center}
.checkbox{display:flex;align-items:center;gap:10px;margin-top:16px;font-size:14px;font-weight:600}
.checkbox input{width:auto}
</style>
</head>
<body>

<div class="container" id="mainContainer">
<h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ª–µ–Ω—Ç–æ—á–Ω–æ–≥–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</h1>

<label>–ü–µ—Ä–∏–º–µ—Ç—Ä —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ (–º)<input id="perimeter" type="number" step="0.1"></label>
<label>–®–∏—Ä–∏–Ω–∞ –ª–µ–Ω—Ç—ã (–º)<select id="width"><option value="0.3">0.3</option><option value="0.4" selected>0.4</option></select></label>
<label>–í—ã—Å–æ—Ç–∞ –ª–µ–Ω—Ç—ã (–º)<input id="height" type="number" step="0.1"></label>
<label>–î–ª–∏–Ω–∞ –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–æ–∫ (–º)<input id="partitionLength" type="number" step="0.1" value="0"></label>
<label>–®–∏—Ä–∏–Ω–∞ –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–æ–∫ (–º)<select id="partitionWidth"><option value="0.3">0.3</option><option value="0.4" selected>0.4</option></select></label>
<label>–ú–∞—Ä–∫–∞ –±–µ—Ç–æ–Ω–∞<select id="concrete"><option value="5500">M200 ‚Äî 5500</option><option value="6000">M250 ‚Äî 6000</option><option value="6500">M300 ‚Äî 6500</option></select></label>
<label class="checkbox"><input type="checkbox" id="formwork" checked>–ê—Ä–µ–Ω–¥–∞ –æ–ø–∞–ª—É–±–∫–∏ (400 ‚ÇΩ/–º)</label>
<button id="calcButton">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
<div class="note">* –†–∞—Å—á—ë—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–π</div>
</div>

<div class="result" id="result"></div>

<script>
function calcAll(){
  const P=+document.getElementById('perimeter').value;
  const W=+document.getElementById('width').value;
  const H=+document.getElementById('height').value;
  const pL=+document.getElementById('partitionLength').value;
  const pW=+document.getElementById('partitionWidth').value;
  const concretePrice=+document.getElementById('concrete').value;
  const formworkChecked=document.getElementById('formwork').checked;

  if(!P||!H){alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');return;}

  const volume=P*W*H + pL*pW*H;
  const concreteCost=volume*concretePrice;
  const gravelCost=(P*W+pL*pW)*0.3*250;
  const rebarCost=(P+pL)*8*46;
  const workCost=volume*2500 + (P+pL)*200 + (P+pL)*350 + (P+pL)*8*35 + (formworkChecked?400*(P+pL):0) + 4000;

  const result=document.getElementById('result');
  result.innerHTML=`<h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞</h2>
  <p>–ë–µ—Ç–æ–Ω: ${volume.toFixed(2)} –º¬≥ ‚Äî ${concreteCost.toFixed(0)} ‚ÇΩ</p>
  <p>–ü–æ–¥—Å—ã–ø–∫–∞: ${gravelCost.toFixed(0)} ‚ÇΩ</p>
  <p>–ê—Ä–º–∞—Ç—É—Ä–∞: ${rebarCost.toFixed(0)} ‚ÇΩ</p>
  <p><b>–°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç: ${workCost.toFixed(0)} ‚ÇΩ</b></p>
  <a class="max-btn" href="https://max.ru/join/ywAl4IILOviUMdpEWbk_OrjOFCN4c6q1GANv-omzGrw" target="_blank">üë∑ –ë—Ä–∏–≥–∞–¥—ã –∏ —Ç–µ—Ö–Ω–∏–∫–∞ –≤ Max</a>
  <br><button onclick="closeResult()">–ù–∞–∑–∞–¥</button>`;
  result.classList.add('show');
  document.getElementById('mainContainer').style.display='none';
}

function closeResult(){
  document.getElementById('result').classList.remove('show');
  document.getElementById('mainContainer').style.display='block';
}

// –ü—Ä–∏–≤—è–∑–∫–∞ –∫–Ω–æ–ø–æ–∫
document.getElementById('calcButton').addEventListener('click', calcAll);
</script>
</body>
</html>
