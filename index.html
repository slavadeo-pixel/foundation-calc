<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ª–µ–Ω—Ç–æ—á–Ω–æ–≥–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</title>

  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      background: #f2f2f2;
      color: #111;
    }
    .container { max-width: 520px; margin: 0 auto; padding: 12px; }
    .card {
      background: #fff; border-radius: 16px; padding: 14px; margin-bottom: 12px;
      box-shadow: 0 4px 14px rgba(0,0,0,.08);
    }
    h2 { margin: 0 0 8px; font-size: 18px; }
    label { font-size: 14px; margin-top: 10px; display: block; }
    input, select {
      width: 100%; margin-top: 6px; padding: 12px; font-size: 16px;
      border-radius: 12px; border: 1px solid #ddd;
    }
    button {
      width: 100%; padding: 16px; font-size: 18px; border-radius: 16px;
      border: none; background: #2563eb; color: #fff; font-weight: 600;
    }

    .checkbox {
      display: flex; align-items: center; gap: 12px; margin-top: 12px;
    }
    .checkbox input { transform: scale(1.3); accent-color: #2563eb; }

    .result-screen {
      position: fixed; inset: 0; background: #f2f2f2;
      display: none; justify-content: center; align-items: center; z-index: 9999;
    }
    .screen {
      width: 100%; height: 100%; max-width: 520px; background: #fff;
      padding: 16px; overflow-y: auto;
    }
    .line { margin-bottom: 8px; font-size: 16px; }
    .block { margin-top: 16px; }
    .total { margin-top: 16px; font-size: 22px; font-weight: 700; }

    a.action {
      display: flex; align-items: center; gap: 12px;
      padding: 16px; border-radius: 16px; text-decoration: none;
      color: #fff; margin-top: 12px;
    }
    a.tg { background: #229ED9; }
    a.max { background: #111827; }
    .icon { font-size: 28px; }
    .title { font-size: 18px; font-weight: 600; display: block; }
    .subtitle { font-size: 13px; opacity: .9; display: block; }

    .btn-secondary {
      background: #e5e7eb; color: #111; margin-top: 16px;
    }
  </style>
</head>
<body>

<div class="container" id="calcScreen">
  <div class="card">
    <h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</h2>
    <label>–ü–µ—Ä–∏–º–µ—Ç—Ä —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ (–º)</label>
    <input id="perimeter" placeholder="40 –º–µ—Ç—Ä–æ–≤" />

    <label>–î–ª–∏–Ω–∞ –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–æ–∫ (–º)</label>
    <input id="partitions" placeholder="10 –º–µ—Ç—Ä–æ–≤" />

    <label>–í—ã—Å–æ—Ç–∞ –ª–µ–Ω—Ç—ã (–º)</label>
    <input id="height" type="number" step="0.1" placeholder="0.5" />

    <label>–®–∏—Ä–∏–Ω–∞ –ª–µ–Ω—Ç—ã</label>
    <select id="width">
      <option value="0.3">0.3 –º</option>
      <option value="0.4">0.4 –º</option>
    </select>

    <div class="checkbox">
      <input type="checkbox" id="formwork" checked />
      <label for="formwork">–ê—Ä–µ–Ω–¥–∞ –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–æ–π –æ–ø–∞–ª—É–±–∫–∏</label>
    </div>
  </div>

  <button onclick="calculate()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç</button>
</div>

<div class="result-screen" id="resultScreen">
  <div class="screen" id="resultContent"></div>
</div>

<script>
function calculate(){
  const p = +perimeter.value || 0;
  const part = +partitions.value || 0;
  const h = +height.value || 0;
  const w = +width.value;

  const volume = (p + part) * w * h;

  const concrete = volume * 6500;
  const gravelVol = (p + part) * w * 0.3;
  const gravel = gravelVol * 250;
  const gravelDelivery = Math.ceil(gravelVol / 4) * 1500;

  const rebarMeters = (p + part) * 8;
  const rebar = rebarMeters * 46;
  const frames = (p + part) * 4 * 50;

  const formworkCost = formwork.checked ? volume * 1000 + 5000 : 0;

  const materials = concrete + gravel + gravelDelivery + rebar + frames + formworkCost;

  const works = (p + part) * 200 + (p + part) * 350 + volume * 2500 + rebarMeters * 35;

  const total = materials + works;

  resultContent.innerHTML = `
    <h2>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã</h2>
    <div class="line">üöö –ë–µ—Ç–æ–Ω: ${concrete.toLocaleString()} ‚ÇΩ</div>
    <div class="line">ü™® –ü–æ–¥—Å—ã–ø–∫–∞: ${gravel.toLocaleString()} ‚ÇΩ</div>
    <div class="line">üöö –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ–¥—Å—ã–ø–∫–∏: ${gravelDelivery.toLocaleString()} ‚ÇΩ</div>
    <div class="line">üî© –ê—Ä–º–∞—Ç—É—Ä–∞: ${rebar.toLocaleString()} ‚ÇΩ</div>
    <div class="line">üß± –ö–∞—Ä–∫–∞—Å—ã: ${frames.toLocaleString()} ‚ÇΩ</div>
    ${formwork.checked ? `<div class="line">üß∞ –û–ø–∞–ª—É–±–∫–∞ + –¥–æ—Å—Ç–∞–≤–∫–∞: ${formworkCost.toLocaleString()} ‚ÇΩ</div>` : ``}

    <div class="total">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã: ${materials.toLocaleString()} ‚ÇΩ</div>

    <div class="block">
      <h2>–†–∞–±–æ—Ç—ã</h2>
      <div class="line">üöú –ö–æ–ø–∫–∞ —Ç—Ä–∞–Ω—à–µ–∏</div>
      <div class="line">üî© –°–±–æ—Ä–∫–∞ –∫–∞—Ä–∫–∞—Å–æ–≤ –∞—Ä–º–∞—Ç—É—Ä—ã</div>
      <div class="line">üß∞ –°–±–æ—Ä–∫–∞ –æ–ø–∞–ª—É–±–∫–∏ –∏ –ø—Ä–∏—ë–º –±–µ—Ç–æ–Ω–∞</div>
      <div class="total">–†–∞–±–æ—Ç—ã: ${works.toLocaleString()} ‚ÇΩ</div>
    </div>

    <div class="total">–ò–¢–û–ì–û: ${total.toLocaleString()} ‚ÇΩ</div>

    <a class="action tg" href="https://t.me/Slavchikoff" target="_blank">
      <span class="icon">üì®</span>
      <span><span class="title">Telegram</span><span class="subtitle">–ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç</span></span>
    </a>

    <a class="action max" href="https://max.ru/join/ywAl4IILOviUMdpEWbk_OrjOFCN4c6q1GANv-omzGrw" target="_blank">
      <span class="icon">‚ìÇÔ∏è</span>
      <span><span class="title">Max</span><span class="subtitle">–ë—Ä–∏–≥–∞–¥—ã –∏ —Ç–µ—Ö–Ω–∏–∫–∞</span></span>
    </a>

    <button class="btn-secondary" onclick="closeResult()">‚¨Ö –ù–∞–∑–∞–¥</button>
  `;

  calcScreen.style.display = 'none';
  resultScreen.style.display = 'flex';
}

function closeResult(){
  resultScreen.style.display = 'none';
  calcScreen.style.display = 'block';
}
</script>

</body>
</html>
