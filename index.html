<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      background: #f2f2f2;
      color: #111;
    }
    .container {
      max-width: 520px;
      margin: 0 auto;
      padding: 12px;
    }
    .card {
      background: #fff;
      border-radius: 16px;
      padding: 14px;
      margin-bottom: 12px;
      box-shadow: 0 4px 14px rgba(0,0,0,.08);
    }
    h2 {
      margin: 0 0 8px;
      font-size: 18px;
    }
    label {
      font-size: 14px;
      margin-top: 10px;
      display: block;
    }
    input, select {
      width: 100%;
      margin-top: 6px;
      padding: 12px;
      font-size: 16px;
      border-radius: 12px;
      border: 1px solid #ddd;
    }
    button {
      width: 100%;
      padding: 16px;
      font-size: 18px;
      border-radius: 16px;
      border: none;
      background: #2563eb;
      color: #fff;
      font-weight: 600;
    }
    button:active { opacity: .9; }
  </style>
</head>
<body>

<div class="container">

  <div class="card">
    <h2>üìê –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</h2>
    <label>–ü–µ—Ä–∏–º–µ—Ç—Ä —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞, –º</label>
    <input id="perimeter" type="number" inputmode="decimal" />

    <label>–®–∏—Ä–∏–Ω–∞ –ª–µ–Ω—Ç—ã</label>
    <select id="width">
      <option value="0.3">0.3 –º</option>
      <option value="0.4">0.4 –º</option>
    </select>

    <label>–í—ã—Å–æ—Ç–∞ –ª–µ–Ω—Ç—ã, –º</label>
    <input id="height" type="number" inputmode="decimal" />

    <label>–î–ª–∏–Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–æ–∫, –º</label>
    <input id="partitions" type="number" inputmode="decimal" />

    <label>–®–∏—Ä–∏–Ω–∞ –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–æ–∫</label>
    <select id="partWidth">
      <option value="0.3">0.3 –º</option>
      <option value="0.4">0.4 –º</option>
    </select>
  </div>

  <div class="card">
    <h2>üß± –ë–µ—Ç–æ–Ω</h2>
    <select id="concrete">
      <option value="5500">M200 ‚Äî 5 500 ‚ÇΩ / –º¬≥</option>
      <option value="6000">M250 ‚Äî 6 000 ‚ÇΩ / –º¬≥</option>
      <option value="6500">M300 ‚Äî 6 500 ‚ÇΩ / –º¬≥</option>
    </select>
  </div>

  <button onclick="calc()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å</button>

</div>

<script>
function calc(){
  const p = +perimeter.value || 0;
  const w = +width.value;
  const h = +height.value || 0;
  const part = +partitions.value || 0;
  const pw = +partWidth.value;
  const priceConcrete = +concrete.value;

  const volume = p*w*h + part*pw*h;
  const concreteCost = volume * priceConcrete;
  const gravelCost = (p*w + part*pw) * 0.3 * 250;
  const rebarMeters = (p + part) * 8;
  const rebarCost = rebarMeters * 46;

  const workTrench = (p + part) * 200;
  const workGravel = (p + part) * 350;
  const workConcrete = volume * 2500;
  const workRebar = rebarMeters * 35;

  const total = concreteCost + gravelCost + rebarCost + workTrench + workGravel + workConcrete + workRebar;

  const win = window.open('', '_blank');
  win.document.write(`
  <!DOCTYPE html><html><head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>
  <title>–†–∞—Å—á—ë—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</title>
  <style>
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;width:100%;height:100%}
    body{display:flex;align-items:center;justify-content:center;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Arial;background:#f2f2f2;color:#111}
    .screen{width:100%;height:100%;max-width:520px;background:#fff;padding:16px;overflow-y:auto}
    h2{margin:0 0 12px;font-size:20px}
    .line{margin-bottom:8px;font-size:16px}
    .total{margin-top:16px;font-size:22px;font-weight:700}
    a{display:block;margin-top:24px;padding:16px;text-align:center;font-size:18px;font-weight:600;border-radius:16px;background:#2563eb;color:#fff;text-decoration:none}
  </style>
  </head><body>
    <div class='screen'>
      <h2>üìä –†–∞—Å—á—ë—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</h2>

      <div class='line'>–ë–µ—Ç–æ–Ω: ${volume.toFixed(2)} –º¬≥ ‚Äî ${concreteCost.toLocaleString()} ‚ÇΩ</div>
      <div class='line'>–ü–æ–¥—Å—ã–ø–∫–∞: ${gravelCost.toLocaleString()} ‚ÇΩ</div>
      <div class='line'>–ê—Ä–º–∞—Ç—É—Ä–∞: ${rebarCost.toLocaleString()} ‚ÇΩ</div>

      <h2>üöú –†–∞–±–æ—Ç—ã</h2>
      <div class='line'>–ö–æ–ø–∫–∞ —Ç—Ä–∞–Ω—à–µ–∏: ${workTrench.toLocaleString()} ‚ÇΩ</div>
      <div class='line'>–ü–æ–¥—Å—ã–ø–∫–∞: ${workGravel.toLocaleString()} ‚ÇΩ</div>
      <div class='line'>–ó–∞–ª–∏–≤–∫–∞ –±–µ—Ç–æ–Ω–∞: ${workConcrete.toLocaleString()} ‚ÇΩ</div>
      <div class='line'>–í—è–∑–∫–∞ –∞—Ä–º–∞—Ç—É—Ä—ã: ${workRebar.toLocaleString()} ‚ÇΩ</div>

      <div class='total'>–ò—Ç–æ–≥–æ: ${total.toLocaleString()} ‚ÇΩ</div>

      <a href='https://max.ru/join/ywAl4IILOviUMdpEWbk_OrjOFCN4c6q1GANv-omzGrw' target='_blank'>üëâ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –≤ Max</a>
    </div>
  </body></html>`);
}
</script>

</body>
</html>
